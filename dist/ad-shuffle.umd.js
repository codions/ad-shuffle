const style = document.createElement('style'); style.textContent = `.ads-styled{background-image:url(https://ad-shuffle.codions.dev/images/vectorline.jpg);background-position:center center;background-repeat:repeat;background-size:13%;height:auto!important;width:100%;text-align:center;font-family:sans-serif;margin-top:1.25rem;border:1px solid #f3f4f6;padding:.5rem;border-radius:.75rem;display:none}.rb-random-ads .ads-info{font-size:.875rem;color:#4b5563;margin-bottom:.5rem}
`; document.head.appendChild(style);
(function(r){typeof define=="function"&&define.amd?define(r):r()})(function(){"use strict";var f=Object.defineProperty;var A=(r,l,t)=>l in r?f(r,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[l]=t;var g=(r,l,t)=>A(r,typeof l!="symbol"?l+"":l,t);class r{constructor(){g(this,"adsContainers");g(this,"toggleButton");this.adsContainers=document.querySelectorAll(".rb-ads"),this.toggleButton=document.getElementById("ads-toggle-button"),this.initializeAds()}initializeAds(){const t=this.areAdsHidden();this.updateAdsVisibility(t),this.toggleButton&&(this.toggleButton.textContent=t?"Show Ads":"Hide Ads",this.toggleButton.addEventListener("click",()=>this.toggleAds())),t||this.initializeRotationLogic()}areAdsHidden(){return localStorage.getItem("ads-hidden")==="true"}updateAdsVisibility(t){this.adsContainers.forEach(n=>{n.style.display=t?"none":"block"})}toggleAds(){const t=!this.areAdsHidden();localStorage.setItem("ads-hidden",String(t)),this.updateAdsVisibility(t),this.toggleButton&&(this.toggleButton.textContent=t?"Show Ads":"Hide Ads")}initializeRotationLogic(){this.adsContainers.forEach(t=>{const n=t.querySelectorAll(".rb-random-ads"),o=t.getAttribute("data-auto-rotate")==="true",e=1e3*parseInt(t.getAttribute("data-interval")||"0",10);t.getAttribute("data-sequential")==="true"?this.rotateSequentially(n,e,o):this.rotateRandomly(n,e,o)})}rotateSequentially(t,n,o){let e=0;const d=t.length,s=()=>{t.forEach(a=>a.style.display="none"),t[e].style.display="block",e=(e+1)%d};s(),o&&n>0&&setInterval(s,n)}rotateRandomly(t,n,o){const e=[];let d=0;if(t.forEach(a=>{const c=a.getAttribute("data-start-date")?new Date(a.getAttribute("data-start-date")):null,i=a.getAttribute("data-end-date")?new Date(a.getAttribute("data-end-date")):null;if(c&&new Date<c||i&&new Date>i)return;const u=parseInt(a.getAttribute("data-frequency"))||1;d+=u;for(let h=0;h<u;h++)e.push(a)}),e.length===0)return;const s=()=>{const a=Math.floor(Math.random()*d),c=e[a];t.forEach(i=>i.style.display="none"),c.style.display="block"};s(),o&&n>0&&setInterval(s,n)}static selectEditorByFrequency(t){const n=t.reduce((e,[d,s])=>e+s,0);let o=Math.random()*n;for(const[e,d]of t){if(o<d)return e;o-=d}return t[0][0]}static async loadAdZone(t,n){const o=document.getElementById(t);if(o)try{const e=await fetch(n);if(!e.ok)throw new Error(`Failed to load ad for zone ${t}: ${e.statusText}`);(function(d,s,a=!0){a&&(d.innerHTML="");const c=document.createElement("div");c.innerHTML=s,Array.from(c.children).forEach(i=>{const u=document.createElement(i.nodeName);Array.from(i.attributes).forEach(h=>{u.setAttribute(h.nodeName,h.nodeValue)}),i.nodeName==="SCRIPT"&&i.text?u.text=i.text:i.innerHTML&&(u.innerHTML=i.innerHTML),d.appendChild(u)})})(o,await e.text(),!0)}catch(e){console.error(`Error loading ad content for zone ${t}:`,e)}else console.warn(`Ad container with ID ${t} not found`)}}document.addEventListener("DOMContentLoaded",()=>{new r}),window.AdManager=r});
