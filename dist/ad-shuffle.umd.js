const style = document.createElement('style'); style.textContent = `.ads-styled{background-image:url(https://ad-shuffle.codions.dev/images/vectorline.jpg);background-position:center center;background-repeat:repeat;background-size:13%;height:auto!important;width:100%;text-align:center;font-family:sans-serif;margin-top:1.25rem;border:1px solid #f3f4f6;padding:.5rem;border-radius:.75rem;display:none}.rb-random-ads .ads-info{font-size:.875rem;color:#4b5563;margin-bottom:.5rem}
`; document.head.appendChild(style);
(function(i){typeof define=="function"&&define.amd?define(i):i()})(function(){"use strict";var A=Object.defineProperty;var f=(i,s,t)=>s in i?A(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t;var h=(i,s,t)=>f(i,typeof s!="symbol"?s+"":s,t);class i{constructor(){h(this,"adsContainers");h(this,"toggleButton");this.adsContainers=document.querySelectorAll(".rb-ads"),this.toggleButton=document.getElementById("ads-toggle-button"),this.initializeAds()}initializeAds(){const t=this.areAdsHidden();this.updateAdsVisibility(t),this.toggleButton&&(this.toggleButton.textContent=t?"Show Ads":"Hide Ads",this.toggleButton.addEventListener("click",()=>this.toggleAds())),t||this.initializeRotationLogic()}areAdsHidden(){return localStorage.getItem("ads-hidden")==="true"}updateAdsVisibility(t){this.adsContainers.forEach(n=>{n.style.display=t?"none":"block"})}toggleAds(){const t=!this.areAdsHidden();localStorage.setItem("ads-hidden",String(t)),this.updateAdsVisibility(t),this.toggleButton&&(this.toggleButton.textContent=t?"Show Ads":"Hide Ads")}initializeRotationLogic(){this.adsContainers.forEach(t=>{const n=t.querySelectorAll(".rb-random-ads"),d=t.getAttribute("data-auto-rotate")==="true",e=1e3*parseInt(t.getAttribute("data-interval")||"0",10);t.getAttribute("data-sequential")==="true"?this.rotateSequentially(n,e,d):this.rotateRandomly(n,e,d)})}rotateSequentially(t,n,d){let e=0;const r=t.length,l=()=>{t.forEach(o=>o.style.display="none"),t[e].style.display="block",e=(e+1)%r};l(),d&&n>0&&setInterval(l,n)}rotateRandomly(t,n,d){const e=[];let r=0;if(t.forEach(o=>{const c=o.getAttribute("data-start-date")?new Date(o.getAttribute("data-start-date")):null,a=o.getAttribute("data-end-date")?new Date(o.getAttribute("data-end-date")):null;if(c&&new Date<c||a&&new Date>a)return;const u=parseInt(o.getAttribute("data-frequency"))||1;r+=u;for(let g=0;g<u;g++)e.push(o)}),e.length===0)return;const l=()=>{const o=Math.floor(Math.random()*r),c=e[o];t.forEach(a=>a.style.display="none"),c.style.display="block"};l(),d&&n>0&&setInterval(l,n)}static async loadAdZone(t,n){const d=document.getElementById(t);if(d)try{const e=await fetch(n);if(!e.ok)throw new Error(`Failed to load ad for zone ${t}: ${e.statusText}`);(function(r,l,o=!0){o&&(r.innerHTML="");const c=document.createElement("div");c.innerHTML=l,Array.from(c.children).forEach(a=>{const u=document.createElement(a.nodeName);Array.from(a.attributes).forEach(g=>{u.setAttribute(g.nodeName,g.nodeValue)}),a.nodeName==="SCRIPT"&&a.text?u.text=a.text:a.innerHTML&&(u.innerHTML=a.innerHTML),r.appendChild(u)})})(d,await e.text(),!0)}catch(e){console.error(`Error loading ad content for zone ${t}:`,e)}else console.warn(`Ad container with ID ${t} not found`)}}document.addEventListener("DOMContentLoaded",()=>{new i}),window.AdManager=i});
